{"ast":null,"code":"import { Fonction } from \"../../model/Fonction\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/issue.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction IssueDetailsComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction IssueDetailsComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Id : \", ctx_r2.issue.code, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Nom : \", ctx_r2.issue.title, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Fonction : \", ctx_r2.issue.content, \"\");\n  }\n}\nfunction IssueDetailsComponent_ng_template_5_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const content_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(content_r6);\n  }\n}\nfunction IssueDetailsComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 4);\n    i0.ɵɵlistener(\"ngSubmit\", function IssueDetailsComponent_ng_template_5_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.updateIssue());\n    });\n    i0.ɵɵelementStart(1, \"label\", 5);\n    i0.ɵɵtext(2, \"code : \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.issue.code = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 7);\n    i0.ɵɵtext(5, \"title :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.issue.title = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 9);\n    i0.ɵɵtext(8, \"content :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"select\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function IssueDetailsComponent_ng_template_5_Template_select_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.issue.content = $event);\n    });\n    i0.ɵɵtemplate(10, IssueDetailsComponent_ng_template_5_option_10_Template, 2, 1, \"option\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 12);\n    i0.ɵɵtext(12, \"Envoyer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 13);\n    i0.ɵɵtext(14, \"Reset\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.issue.code);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.issue.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.issue.content);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.contents);\n  }\n}\nexport class IssueDetailsComponent {\n  constructor(issueService, route) {\n    this.issueService = issueService;\n    this.route = route;\n    this.mode = 'Edit';\n    this.fonctions = Object.values(Fonction);\n    //this.user=history.state.user;\n    const code_issue = Number(this.route.snapshot.paramMap.get(\"id\"));\n    this.issueService.getIssueByCode(code_issue).subscribe(issue => this.issue = issue);\n    for (let fonction of this.fonctions) {\n      console.log(fonction);\n    }\n  }\n  changeMode() {\n    if (this.mode === \"Edit\") {\n      this.mode = \"Display\";\n    } else {\n      this.mode = \"Edit\";\n    }\n  }\n  updateIssue() {\n    console.log(\"update\");\n    this.issueService.update(this.issue).subscribe(() => this.changeMode());\n  }\n  static #_ = this.ɵfac = function IssueDetailsComponent_Factory(t) {\n    return new (t || IssueDetailsComponent)(i0.ɵɵdirectiveInject(i1.IssueService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: IssueDetailsComponent,\n    selectors: [[\"app-issue-details\"]],\n    decls: 7,\n    vars: 4,\n    consts: [[\"type\", \"button\", 3, \"click\"], [4, \"ngIf\", \"ngIfThen\", \"ngIfElse\"], [\"display\", \"\"], [\"edit\", \"\"], [3, \"ngSubmit\"], [\"for\", \"code\"], [\"id\", \"code\", \"name\", \"code\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"title\"], [\"id\", \"title\", \"name\", \"title\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"content\"], [\"id\", \"content\", \"name\", \"content\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\"], [\"type\", \"reset\"]],\n    template: function IssueDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function IssueDetailsComponent_Template_button_click_0_listener() {\n          return ctx.changeMode();\n        });\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, IssueDetailsComponent_ng_container_2_Template, 1, 0, \"ng-container\", 1);\n        i0.ɵɵtemplate(3, IssueDetailsComponent_ng_template_3_Template, 6, 3, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(5, IssueDetailsComponent_ng_template_5_Template, 15, 4, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(4);\n        const _r3 = i0.ɵɵreference(6);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.mode);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mode === \"Edit\")(\"ngIfThen\", _r1)(\"ngIfElse\", _r3);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Fonction","i0","ɵɵelementContainer","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r2","issue","code","title","content","ɵɵtextInterpolate","content_r6","ɵɵlistener","IssueDetailsComponent_ng_template_5_Template_form_ngSubmit_0_listener","ɵɵrestoreView","_r8","ctx_r7","ɵɵnextContext","ɵɵresetView","updateIssue","IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_3_listener","$event","ctx_r9","IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_6_listener","ctx_r10","IssueDetailsComponent_ng_template_5_Template_select_ngModelChange_9_listener","ctx_r11","ɵɵtemplate","IssueDetailsComponent_ng_template_5_option_10_Template","ɵɵproperty","ctx_r4","contents","IssueDetailsComponent","constructor","issueService","route","mode","fonctions","Object","values","code_issue","Number","snapshot","paramMap","get","getIssueByCode","subscribe","fonction","console","log","changeMode","update","_","ɵɵdirectiveInject","i1","IssueService","i2","ActivatedRoute","_2","selectors","decls","vars","consts","template","IssueDetailsComponent_Template","rf","ctx","IssueDetailsComponent_Template_button_click_0_listener","IssueDetailsComponent_ng_container_2_Template","IssueDetailsComponent_ng_template_3_Template","ɵɵtemplateRefExtractor","IssueDetailsComponent_ng_template_5_Template","_r1","_r3"],"sources":["H:\\IssueTracker-Front\\src\\app\\issue\\issue-details\\issue-details.component.ts","H:\\IssueTracker-Front\\src\\app\\issue\\issue-details\\issue-details.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport {Fonction} from \"../../model/Fonction\";\r\nimport {Issue} from \"../../model/Issue\";\r\nimport {UserService} from \"../../services/user.service\";\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {IssueService} from \"../../services/issue.service\";\r\n\r\n@Component({\r\n  selector: 'app-issue-details',\r\n  templateUrl: './issue-details.component.html',\r\n  styleUrls: ['./issue-details.component.css']\r\n})\r\nexport class IssueDetailsComponent {\r\n  issue !: Issue\r\n  mode:String = 'Edit'\r\n  fonctions = Object.values(Fonction)\r\n\r\n  constructor(\r\n    private issueService: IssueService,\r\n    private route: ActivatedRoute ) {\r\n    //this.user=history.state.user;\r\n    const code_issue: Number = Number(this.route.snapshot.paramMap.get(\"id\"))\r\n    this.issueService.getIssueByCode(code_issue).subscribe(issue => this.issue = issue)\r\n    for (let fonction of this.fonctions) {\r\n      console.log(fonction)\r\n    }\r\n  }\r\n  changeMode() {\r\n    if (this.mode===\"Edit\") {\r\n      this.mode = \"Display\"\r\n    } else {\r\n      this.mode = \"Edit\"\r\n    }\r\n  }\r\n\r\n  updateIssue() {\r\n    console.log(\"update\")\r\n    this.issueService.update(this.issue).subscribe(()=>this.changeMode());\r\n  }\r\n}\r\n","<button type=\"button\" (click)=\"changeMode()\">{{mode}}</button>\r\n<ng-container *ngIf=\"mode==='Edit' then display else edit\"></ng-container>\r\n<ng-template #display>\r\n  <p>Id : {{issue.code}}</p>\r\n  <p>Nom : {{issue.title}}</p>\r\n  <p>Fonction : {{issue.content}}</p>\r\n</ng-template>\r\n<ng-template #edit>\r\n  <form (ngSubmit)=\"updateIssue()\">\r\n    <label for=\"code\">code : </label><input [(ngModel)]=\"issue.code\" id=\"code\" name=\"code\">\r\n    <label for=\"title\">title :</label><input [(ngModel)]=\"issue.title\" id=\"title\" name=\"title\">\r\n    <label for=\"content\">content :</label><select [(ngModel)]=\"issue.content\" id=\"content\" name=\"content\">\r\n    <option *ngFor=\"let content of contents\">{{ content }}</option>\r\n  </select>\r\n    <button type=\"submit\">Envoyer</button><button type=\"reset\">Reset</button>\r\n  </form>\r\n</ng-template>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}