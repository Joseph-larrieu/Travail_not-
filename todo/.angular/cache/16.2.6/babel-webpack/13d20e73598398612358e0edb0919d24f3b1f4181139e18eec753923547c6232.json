{"ast":null,"code":"import { Fonction } from \"../../model/Fonction\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/issue.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction IssueDetailsComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction IssueDetailsComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Code : \", ctx_r2.issue.code, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Title : \", ctx_r2.issue.title, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Content : \", ctx_r2.issue.content, \"\");\n  }\n}\nfunction IssueDetailsComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 4);\n    i0.ɵɵlistener(\"ngSubmit\", function IssueDetailsComponent_ng_template_5_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.updateIssue());\n    });\n    i0.ɵɵelementStart(1, \"label\", 5);\n    i0.ɵɵtext(2, \"code : \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.issue.code = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 7);\n    i0.ɵɵtext(5, \"title :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.issue.title = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 9);\n    i0.ɵɵtext(8, \"content :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.issue.content = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 11);\n    i0.ɵɵtext(11, \"Envoyer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 12);\n    i0.ɵɵtext(13, \"Reset\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.issue.code);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.issue.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.issue.content);\n  }\n}\nexport class IssueDetailsComponent {\n  constructor(issueService, route) {\n    this.issueService = issueService;\n    this.route = route;\n    this.mode = 'Edit';\n    this.fonctions = Object.values(Fonction);\n    //this.user=history.state.user;\n    const code_issue = Number(this.route.snapshot.paramMap.get(\"id\"));\n    this.issueService.getIssueByCode(code_issue).subscribe(issue => this.issue = issue);\n    for (let fonction of this.fonctions) {\n      console.log(fonction);\n    }\n  }\n  changeMode() {\n    if (this.mode === \"Edit\") {\n      this.mode = \"Display\";\n    } else {\n      this.mode = \"Edit\";\n    }\n  }\n  updateIssue() {\n    console.log(\"update\");\n    this.issueService.update(this.issue).subscribe(() => this.changeMode());\n  }\n  static #_ = this.ɵfac = function IssueDetailsComponent_Factory(t) {\n    return new (t || IssueDetailsComponent)(i0.ɵɵdirectiveInject(i1.IssueService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: IssueDetailsComponent,\n    selectors: [[\"app-issue-details\"]],\n    decls: 7,\n    vars: 4,\n    consts: [[\"type\", \"button\", 3, \"click\"], [4, \"ngIf\", \"ngIfThen\", \"ngIfElse\"], [\"display\", \"\"], [\"edit\", \"\"], [3, \"ngSubmit\"], [\"for\", \"code\"], [\"id\", \"code\", \"name\", \"code\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"title\"], [\"id\", \"title\", \"name\", \"title\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"content\"], [\"id\", \"content\", \"name\", \"content\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [\"type\", \"reset\"]],\n    template: function IssueDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function IssueDetailsComponent_Template_button_click_0_listener() {\n          return ctx.changeMode();\n        });\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, IssueDetailsComponent_ng_container_2_Template, 1, 0, \"ng-container\", 1);\n        i0.ɵɵtemplate(3, IssueDetailsComponent_ng_template_3_Template, 6, 3, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(5, IssueDetailsComponent_ng_template_5_Template, 14, 3, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(4);\n        const _r3 = i0.ɵɵreference(6);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.mode);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mode === \"Edit\")(\"ngIfThen\", _r1)(\"ngIfElse\", _r3);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Fonction","i0","ɵɵelementContainer","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r2","issue","code","title","content","ɵɵlistener","IssueDetailsComponent_ng_template_5_Template_form_ngSubmit_0_listener","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","updateIssue","IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_3_listener","$event","ctx_r7","IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_6_listener","ctx_r8","IssueDetailsComponent_ng_template_5_Template_input_ngModelChange_9_listener","ctx_r9","ɵɵproperty","ctx_r4","IssueDetailsComponent","constructor","issueService","route","mode","fonctions","Object","values","code_issue","Number","snapshot","paramMap","get","getIssueByCode","subscribe","fonction","console","log","changeMode","update","_","ɵɵdirectiveInject","i1","IssueService","i2","ActivatedRoute","_2","selectors","decls","vars","consts","template","IssueDetailsComponent_Template","rf","ctx","IssueDetailsComponent_Template_button_click_0_listener","ɵɵtemplate","IssueDetailsComponent_ng_container_2_Template","IssueDetailsComponent_ng_template_3_Template","ɵɵtemplateRefExtractor","IssueDetailsComponent_ng_template_5_Template","ɵɵtextInterpolate","_r1","_r3"],"sources":["H:\\IssueTracker-Front\\src\\app\\issue\\issue-details\\issue-details.component.ts","H:\\IssueTracker-Front\\src\\app\\issue\\issue-details\\issue-details.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport {Fonction} from \"../../model/Fonction\";\r\nimport {Issue} from \"../../model/Issue\";\r\nimport {UserService} from \"../../services/user.service\";\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {IssueService} from \"../../services/issue.service\";\r\n\r\n@Component({\r\n  selector: 'app-issue-details',\r\n  templateUrl: './issue-details.component.html',\r\n  styleUrls: ['./issue-details.component.css']\r\n})\r\nexport class IssueDetailsComponent {\r\n  issue !: Issue\r\n  mode:String = 'Edit'\r\n  fonctions = Object.values(Fonction)\r\n\r\n  constructor(\r\n    private issueService: IssueService,\r\n    private route: ActivatedRoute ) {\r\n    //this.user=history.state.user;\r\n    const code_issue: Number = Number(this.route.snapshot.paramMap.get(\"id\"))\r\n    this.issueService.getIssueByCode(code_issue).subscribe(issue => this.issue = issue)\r\n    for (let fonction of this.fonctions) {\r\n      console.log(fonction)\r\n    }\r\n  }\r\n  changeMode() {\r\n    if (this.mode===\"Edit\") {\r\n      this.mode = \"Display\"\r\n    } else {\r\n      this.mode = \"Edit\"\r\n    }\r\n  }\r\n\r\n  updateIssue() {\r\n    console.log(\"update\")\r\n    this.issueService.update(this.issue).subscribe(()=>this.changeMode());\r\n  }\r\n}\r\n","<button type=\"button\" (click)=\"changeMode()\">{{mode}}</button>\r\n<ng-container *ngIf=\"mode==='Edit' then display else edit\"></ng-container>\r\n<ng-template #display>\r\n  <p>Code : {{issue.code}}</p>\r\n  <p>Title : {{issue.title}}</p>\r\n  <p>Content : {{issue.content}}</p>\r\n</ng-template>\r\n<ng-template #edit>\r\n  <form (ngSubmit)=\"updateIssue()\">\r\n    <label for=\"code\">code : </label><input [(ngModel)]=\"issue.code\" id=\"code\" name=\"code\">\r\n    <label for=\"title\">title :</label><input [(ngModel)]=\"issue.title\" id=\"title\" name=\"title\">\r\n    <label for=\"content\">content :</label><input [(ngModel)]=\"issue.content\" id=\"content\" name=\"content\">\r\n    <button type=\"submit\">Envoyer</button><button type=\"reset\">Reset</button>\r\n  </form>\r\n</ng-template>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}